<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merchant Checkout Demo</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background: #f3f4f6;
            /* Light theme for "Merchant" site */
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            color: #1f2937;
        }

        .checkout-cart {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
        }

        .item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .item img {
            width: 60px;
            height: 60px;
            background: #e5e7eb;
            border-radius: 8px;
        }

        .total {
            display: flex;
            justify-content: space-between;
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1rem;
            margin-bottom: 2rem;
        }

        /* The Container where the Insurance SDK will live */
        #insurance-widget {
            margin-bottom: 1.5rem;
            min-height: 80px;
        }

        .pay-btn {
            background: black;
            color: white;
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
        }
    </style>
</head>

<body>
    <!-- This simulates a 3rd party ecommerce site -->
    <div class="checkout-cart">
        <h3>Shopping Cart</h3>

        <div class="item">
            <div style="display:flex; gap:15px; align-items:center;">
                <img src="" alt="iPhone">
                <div>
                    <div>iPhone 15 Pro</div>
                    <div style="font-size:0.85em; color:#6b7280;">Titanium Black</div>
                </div>
            </div>
            <div>$999</div>
        </div>

        <div class="total">
            <span>Total</span>
            <span>$999.00</span>
        </div>

        <!-- 3. Embed Widget Here -->
        <div id="insurance-widget"></div>

        <button class="pay-btn">Pay Now</button>
    </div>

    <!-- 1. Load the SDK -->
    <script src="/risk-checkout.js"></script>

    <!-- 2. Initialize it -->
    <script>
        // Simulate a logged-in user on the merchant site
        const userContext = {
            borrowerId: "+233500000000",
            amount: 999
        };

        // Initialize the Risk Widget
        // In real usage, the Key would be the Merchant's Public Key
        const risk = new RiskCheckout({
            apiKey: 'pk_merchant_123',
            environment: 'production'
        });

        // Mount the widget
        risk.render('#insurance-widget', {
            amount: 999,
            currency: 'USD',
            item: 'iPhone 15 Pro'
        });
    </script>
</body>

</html>